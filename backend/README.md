<div align="center">
  <img src="https://nestjs.com/img/logo-small.svg" width="120" alt="Nest Logo" />
  
  # ğŸ‰ Backend API - Bicentenario
  
  ### *Plataforma robusta para la gestiÃ³n integral de eventos del Bicentenario*
  
  [![Node.js](https://img.shields.io/badge/Node.js-v18.16.0-339933?style=for-the-badge&logo=node.js&logoColor=white)](https://nodejs.org)
  [![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
  [![NestJS](https://img.shields.io/badge/NestJS-E0234E?style=for-the-badge&logo=nestjs&logoColor=white)](http://nestjs.com/)
  [![PostgreSQL](https://img.shields.io/badge/PostgreSQL-316192?style=for-the-badge&logo=postgresql&logoColor=white)](https://www.postgresql.org/)
  [![Prisma](https://img.shields.io/badge/Prisma-3982CE?style=for-the-badge&logo=Prisma&logoColor=white)](https://www.prisma.io/)
  
  [![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg?style=for-the-badge)](https://opensource.org/licenses/MIT)
  [![Build Status](https://img.shields.io/badge/build-passing-brightgreen?style=for-the-badge)](https://github.com)
  [![Discord](https://img.shields.io/badge/Discord-7289DA?style=for-the-badge&logo=discord&logoColor=white)](https://discord.gg/G7Qnnhy)
  
  ---
  
  **Un backend moderno desarrollado con NestJS y TypeScript que utiliza Prisma ORM para gestionar de forma eficiente y segura una base de datos PostgreSQL, facilitando la administraciÃ³n e inscripciÃ³n en eventos relacionados con el Bicentenario.**
  
</div>

---

## âœ¨ Funcionalidades Principales

<div align="center">
  <table>
    <tr>
      <td align="center" width="33%">
        <img src="https://img.icons8.com/fluency/48/calendar.png" alt="Eventos"/>
        <br><strong>GestiÃ³n de Eventos</strong>
        <br><small>AdministraciÃ³n completa de eventos virtuales, hÃ­bridos y presenciales</small>
      </td>
      <td align="center" width="33%">
        <img src="https://img.icons8.com/fluency/48/user-shield.png" alt="AutenticaciÃ³n"/>
        <br><strong>AutenticaciÃ³n Segura</strong>
        <br><small>Sistema de roles con JWT y validaciÃ³n por email</small>
      </td>
      <td align="center" width="33%">
        <img src="https://img.icons8.com/fluency/48/robot.png" alt="Agente Virtual"/>
        <br><strong>Agente Virtual</strong>
        <br><small>IA integrada para consultas del Bicentenario</small>
      </td>
    </tr>
    <tr>
      <td align="center">
        <img src="https://img.icons8.com/fluency/48/email.png" alt="Notificaciones"/>
        <br><strong>Notificaciones</strong>
        <br><small>EnvÃ­o automÃ¡tico de confirmaciones vÃ­a email</small>
      </td>
      <td align="center">
        <img src="https://img.icons8.com/fluency/48/cloud-storage.png" alt="Almacenamiento"/>
        <br><strong>GestiÃ³n Multimedia</strong>
        <br><small>Carga y gestiÃ³n de imÃ¡genes y archivos</small>
      </td>
      <td align="center">
        <img src="https://img.icons8.com/fluency/48/administrative-tools.png" alt="AdministraciÃ³n"/>
        <br><strong>Panel Admin</strong>
        <br><small>Herramientas completas de administraciÃ³n</small>
      </td>
    </tr>
  </table>
</div>

---

## ğŸ› ï¸ Stack TecnolÃ³gico

<div align="center">
  
  ### Core Technologies
  <p>
  <div align="center">
    <img src="https://nestjs.com/img/logo-small.svg" alt="NestJS" width="100" height="100" title="NestJS"/>
    <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/typescript/typescript-original.svg" alt="TypeScript" width="100" height="100" title="TypeScript"/>
    <img src="https://img.icons8.com/?size=512&id=zJh5Gyrd6ZKu&format=png" alt="Prisma" width="100" height="100" title="Prisma ORM"/>
    <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/postgresql/postgresql-original.svg" alt="PostgreSQL" width="100" height="100" title="PostgreSQL"/>
  </div>
  </p>
  
  ### External Services
  <p>
  <div align="center">
    <img src="https://jwt.io/img/logo.svg" alt="JWT" width="100" height="100" title="JSON Web Tokens"/>
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQCBuMVZYoOByze0kOEVYjKwO6Yx2ExsHwBhg&s" alt="SendGrid" width="100" height="100" title="SendGrid"/>
    <img src="https://antoniofernandez.com/assets/blog/cloudinary.png" alt="Cloudinary" width="100" height="100" title="Cloudinary"/>
    <img src="https://deepinfra.com/favicon.ico" alt="DeepInfra" width="100" height="100" title="DeepInfra"/>
  </div>
  </p>
  
</div>

<details>
<summary><strong>ğŸ“‹ DescripciÃ³n Detallada de TecnologÃ­as</strong></summary>

| TecnologÃ­a | DescripciÃ³n | Uso en el Proyecto |
|------------|-------------|-------------------|
| **NestJS** | Framework progresivo para Node.js | Base del backend, arquitectura modular |
| **TypeScript** | Superset de JavaScript con tipado estÃ¡tico | Desarrollo seguro y escalable |
| **Prisma ORM** | Herramienta moderna de modelado de BD | GestiÃ³n eficiente de PostgreSQL |
| **PostgreSQL** | Sistema de gestiÃ³n de bases de datos | Almacenamiento de datos principales |
| **JWT** | EstÃ¡ndar para tokens de autenticaciÃ³n | Seguridad y manejo de sesiones |
| **SendGrid** | Servicio de envÃ­o de emails | Notificaciones y confirmaciones |
| **Cloudinary** | Plataforma de gestiÃ³n multimedia | Almacenamiento de imÃ¡genes y archivos |
| **DeepInfra** | Servicio de IA en la nube | Agente virtual inteligente |

</details>

---

## ğŸ—ï¸ Arquitectura del Sistema

<div align="center">
  <img src="./docs/Estructura.png" alt="Diagrama de Arquitectura" width="100%" style="max-width: 800px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);"/>
  
  <br>
  
### ğŸ”„ Flujo de Solicitud (Ejemplo: InscripciÃ³n a Evento)
  <img src="./docs/flujo.png" alt="Diagrama de Arquitectura" width="100%" style="max-width: 800px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);"/>
  
  <br>
  
</div>

### ğŸ§© Componentes Principales

- **ğŸ¯ Cliente Frontend**: Interfaz de usuario que consume la API REST
- **âš¡ Backend NestJS**: Arquitectura monolÃ­tica modular con mÃºltiples servicios
- **ğŸ”’ Middleware de Seguridad**: JWT + Casbin para autenticaciÃ³n y autorizaciÃ³n
- **ğŸ—ƒï¸ Prisma ORM**: Capa de acceso a datos tipada y eficiente
- **ğŸ˜ Base de Datos**: PostgreSQL hospedado en Railway
- **â˜ï¸ Servicios Externos**: SendGrid, Cloudinary, DeepInfra

---

## ğŸ“ Estructura del Proyecto

<details>
<summary><strong>ğŸ—‚ï¸ Ver Estructura Completa</strong></summary>

```
backend/
â”œâ”€â”€ ğŸ“‚ src/                          # CÃ³digo fuente principal
â”‚   â”œâ”€â”€ ğŸ” auth/                     # AutenticaciÃ³n y autorizaciÃ³n
â”‚   â”‚   â”œâ”€â”€ auth.controller.ts
â”‚   â”‚   â”œâ”€â”€ auth.service.ts
â”‚   â”‚   â””â”€â”€ dto/                     # Validaciones y DTOs
â”‚   â”œâ”€â”€ ğŸ‘¤ usuario/                  # GestiÃ³n de usuarios
â”‚   â”œâ”€â”€ ğŸ“… evento/                   # AdministraciÃ³n de eventos
â”‚   â”œâ”€â”€ ğŸ“‹ agenda/                   # Inscripciones y agendas
â”‚   â”œâ”€â”€ ğŸ¤– agente-virtual/           # IA para consultas
â”‚   â”œâ”€â”€ â˜ï¸ cloudinary/               # GestiÃ³n multimedia
â”‚   â”œâ”€â”€ âš™ï¸ config/                   # Configuraciones globales
â”‚   â”œâ”€â”€ ğŸ›¡ï¸ rbac/                     # Control de acceso (Casbin)
â”‚   â”œâ”€â”€ ğŸ“Š dashboard/                # EstadÃ­sticas y reportes
â”‚   â”œâ”€â”€ ğŸ·ï¸ categoria/                # CategorÃ­as de eventos
â”‚   â”œâ”€â”€ ğŸ™ï¸ expositor/                # GestiÃ³n de expositores
â”‚   â”œâ”€â”€ ğŸ¤ patrocinador/             # Patrocinadores
â”‚   â”œâ”€â”€ â­ puntuacion/               # Sistema de valoraciones
â”‚   â”œâ”€â”€ ğŸ‘¥ rol/                      # GestiÃ³n de roles
â”‚   â”œâ”€â”€ ğŸ“ telefono/                 # Contactos telefÃ³nicos
â”‚   â”œâ”€â”€ app.controller.ts            # Controlador principal
â”‚   â”œâ”€â”€ app.module.ts                # MÃ³dulo raÃ­z
â”‚   â”œâ”€â”€ main.ts                      # Punto de entrada
â”‚   â””â”€â”€ prisma.service.ts            # Servicio Prisma global
â”œâ”€â”€ ğŸ—„ï¸ prisma/                       # ConfiguraciÃ³n ORM
â”‚   â”œâ”€â”€ migrations/                  # Migraciones de BD
â”‚   â”œâ”€â”€ schema.prisma                # Esquema de datos
â”‚   â””â”€â”€ seed.ts                      # Datos iniciales
â”œâ”€â”€ ğŸ“š docs/                         # DocumentaciÃ³n
â”‚   â”œâ”€â”€ Estructura.png               # Diagrama de arquitectura
â”‚   â”œâ”€â”€ BD.png                       # Modelo de base de datos
â”‚   â””â”€â”€ flujo.png                    # Ejemplo del flujo
â”œâ”€â”€ ğŸ§ª test/                         # Pruebas unitarias
â”œâ”€â”€ ğŸ”§ .env                          # Variables de entorno
â”œâ”€â”€ ğŸ“¦ package.json                  # Dependencias npm
â””â”€â”€ ğŸ“‹ README.md                     # Este archivo
```

</details>

---

## ğŸ’¾ Base de Datos

<div align="center">
  <img src="./docs/BD.png" alt="Modelo de Base de Datos" width="100%" style="max-width: 800px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);"/>
</div>

### ğŸ—‚ï¸ Entidades Principales

<div align="center">
  <table>
    <tr>
      <th>ğŸ·ï¸ Entidad</th>
      <th>ğŸ“ DescripciÃ³n</th>
      <th>ğŸ”— Relaciones Clave</th>
    </tr>
    <tr>
      <td><strong>ğŸ‘¤ Usuarios</strong></td>
      <td>InformaciÃ³n personal, credenciales y verificaciÃ³n</td>
      <td>Roles, Eventos, Inscripciones</td>
    </tr>
    <tr>
      <td><strong>ğŸ“… Eventos</strong></td>
      <td>Detalles completos de eventos y actividades</td>
      <td>Usuarios, CategorÃ­as, Expositores</td>
    </tr>
    <tr>
      <td><strong>ğŸ“‹ Agenda</strong></td>
      <td>Registro de inscripciones y participaciones</td>
      <td>Usuarios, Eventos</td>
    </tr>
    <tr>
      <td><strong>ğŸ›¡ï¸ Roles/Permisos</strong></td>
      <td>Control de acceso y autorizaciones</td>
      <td>Usuarios, Acciones del sistema</td>
    </tr>
    <tr>
      <td><strong>ğŸ·ï¸ CategorÃ­as</strong></td>
      <td>ClasificaciÃ³n de eventos</td>
      <td>Eventos</td>
    </tr>
    <tr>
      <td><strong>ğŸ™ï¸ Expositores</strong></td>
      <td>Ponentes y presentadores</td>
      <td>Eventos</td>
    </tr>
  </table>
</div>

---

## ğŸ“– DocumentaciÃ³n API

<div align="center">
  <a href="https://documenter.getpostman.com/view/43597973/2sB2j68Vdx" target="_blank">
    <img src="https://img.shields.io/badge/ğŸ“š%20DocumentaciÃ³n%20API-Postman-FF6C37?style=for-the-badge&logo=postman&logoColor=white" alt="DocumentaciÃ³n API Postman" />
  </a>
  
  <br><br>
  
  **Explora todos los endpoints, ejemplos de requests/responses y casos de uso en nuestra documentaciÃ³n interactiva de Postman.**
</div>

---

## ğŸš€ Despliegue

<div align="center">
  
<div align="center">

### ğŸŒ ProducciÃ³n

[![Railway](https://img.shields.io/badge/Railway-0B0D0E?style=for-the-badge&logo=railway&logoColor=white)](https://railway.app)

---

### âš™ï¸ Variables de Entorno Configuradas

</div>

  
</div>

<details>
<summary><strong>ğŸ”§ Ver Variables de Entorno</strong></summary>

| Variable | DescripciÃ³n | Servicio |
|----------|-------------|----------|
| `CLOUDINARY_API_KEY` | Clave API de Cloudinary | â˜ï¸ Multimedia |
| `CLOUDINARY_API_SECRET` | Secreto API de Cloudinary | â˜ï¸ Multimedia |
| `CLOUDINARY_CLOUD_NAME` | Nombre del cloud de Cloudinary | â˜ï¸ Multimedia |
| `DATABASE_URL` | URL de conexiÃ³n PostgreSQL | ğŸ—„ï¸ Base de Datos |
| `DEEPINFRA_API_KEY` | Clave API para agente virtual | ğŸ¤– IA |
| `EMAIL_FROM` | Email remitente del sistema | ğŸ“§ Notificaciones |
| `JWT_EXPIRES_IN` | Tiempo de expiraciÃ³n JWT | ğŸ” AutenticaciÃ³n |
| `JWT_SECRET` | Secreto para firmar JWT | ğŸ” AutenticaciÃ³n |
| `NIXPACKS_NODE_VERSION` | VersiÃ³n de Node.js | âš™ï¸ ConfiguraciÃ³n |
| `SENDGRID_API_KEY` | Clave API de SendGrid | ğŸ“§ Emails |

</details>

---

## âš¡ Inicio RÃ¡pido

<div align="center">
  
  ### ğŸ› ï¸ ConfiguraciÃ³n Local
  
</div>

```bash
# ğŸ“¥ Clonar el repositorio
git clone https://github.com/I1vI/INF281.git
cd backend

# ğŸ“¦ Instalar dependencias
npm install

# ğŸ”§ Configurar variables de entorno
cp .env.example .env
# Editar .env con tus valores reales

# ğŸ—„ï¸ Configurar base de datos
npx prisma generate
npx prisma db push
npx prisma db seed

# ğŸš€ Ejecutar en desarrollo
npm run start:dev
```

<details>
<summary><strong>ğŸ“„ Ejemplo de archivo .env</strong></summary>

```env
#############################################################
#                   Archivo .env.example                    #
#    Variables de entorno para configuraciÃ³n del backend    #
#      No incluir datos sensibles reales en este archivo   #
#   Copiar y renombrar a '.env' con valores reales antes   #
#                      de ejecutar la app                   #
#############################################################

# --- ğŸŒ¥ï¸ ConfiguraciÃ³n Cloudinary para almacenamiento multimedia ---
CLOUDINARY_API_KEY=tu_cloudinary_api_key_aqui
CLOUDINARY_API_SECRET=tu_cloudinary_api_secret_aqui
CLOUDINARY_CLOUD_NAME=tu_cloudinary_cloud_name_aqui

# --- ğŸ—„ï¸ URL de conexiÃ³n a la base de datos PostgreSQL ---
DATABASE_URL=postgresql://usuario:password@host:puerto/base_de_datos?schema=public

# --- ğŸ¤– API Key para DeepInfra (agente virtual AI) ---
DEEPINFRA_API_KEY=tu_deepinfra_api_key_aqui

# --- ğŸ“§ ConfiguraciÃ³n del correo electrÃ³nico remitente ---
EMAIL_FROM=tu_correo_remitente@dominio.com

# --- ğŸ” ConfiguraciÃ³n JWT (autenticaciÃ³n y sesiones) ---
JWT_EXPIRES_IN=3600s
JWT_SECRET=tu_jwt_secret_aqui

# --- âš™ï¸ VersiÃ³n Node.js para entorno Railway ---
NIXPACKS_NODE_VERSION=18

# --- ğŸ“¬ API Key para SendGrid (servicio de emails) ---
SENDGRID_API_KEY=tu_sendgrid_api_key_aqui
```

</details>